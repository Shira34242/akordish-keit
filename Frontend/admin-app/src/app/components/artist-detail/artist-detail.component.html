<div class="artist-page-container" *ngIf="!loading && artist">

  <!-- Header Section -->
  <div class="artist-header">
    <!-- Banner (×× ×™×©) -->
    <div class="artist-banner" *ngIf="artist.bannerImageUrl || artist.bannerGifUrl">
      <img [src]="artist.bannerGifUrl || artist.bannerImageUrl"
           [alt]="artist.name"
           class="banner-image">
    </div>

    <div class="header-content">
      <!-- ×ª××•× ×ª ×¤×¨×•×¤×™×œ -->
      <div class="header-image-section">
        <div class="artist-image-wrapper">
          <img [src]="artist.imageUrl || 'assets/default-artist.png'"
               [alt]="artist.name"
               class="artist-image">
          <span class="verified-badge" *ngIf="artist.isVerified">âœ“</span>
          <span class="premium-badge" *ngIf="artist.isPremium">ğŸ‘‘</span>
        </div>
      </div>

      <!-- ××™×“×¢ ×¢×œ ×”××•××Ÿ -->
      <div class="header-info-section">
        <h1 class="artist-name">{{ artist.name }}</h1>
        <p class="artist-english-name" *ngIf="artist.englishName">{{ artist.englishName }}</p>

        <!-- ×ª×™××•×¨ ×§×¦×¨ -->
        <p class="short-bio" *ngIf="artist.shortBio">{{ artist.shortBio }}</p>

        <!-- ×¡×˜×˜×™×¡×˜×™×§×•×ª -->
        <div class="artist-stats">
          <div class="stat-item">
            <span class="stat-number">{{ artist.songCount }}</span>
            <span class="stat-label">×©×™×¨×™×</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ artist.articleCount }}</span>
            <span class="stat-label">×›×ª×‘×•×ª</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ artist.upcomingEventCount }}</span>
            <span class="stat-label">×”×•×¤×¢×•×ª</span>
          </div>
        </div>

        <!-- ×§×™×©×•×¨×™× ×œ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª -->
        <div class="social-links" *ngIf="artist.socialLinks && artist.socialLinks.length > 0">
          <a *ngFor="let link of artist.socialLinks"
             [href]="link.url"
             target="_blank"
             class="social-link"
             [title]="getSocialPlatformName(link.platform)">
            {{ getSocialPlatformName(link.platform) }}
          </a>
        </div>

        <!-- ×›×¤×ª×•×¨×™ ×¤×¢×•×œ×” -->
        <div class="action-buttons">
          <button class="btn-upgrade" *ngIf="!artist.isPremium" (click)="onUpgrade()">
            ×©×“×¨×’ ×œ×—×©×‘×•×Ÿ ××©×œ×
          </button>
          <button class="btn-boost" (click)="onBoost()">
            Boost (10â‚ª)
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- ×‘×™×•×’×¨×¤×™×” ××¨×•×›×” -->
  <div class="biography-section" *ngIf="artist.biography">
    <div class="content-wrapper">
      <h2>××•×“×•×ª</h2>
      <p class="biography-text">{{ artist.biography }}</p>
    </div>
  </div>

  <!-- ×’×œ×¨×™×™×ª ×ª××•× ×•×ª (××©×œ× ×‘×œ×‘×“) -->
  <div class="gallery-section" *ngIf="artist.isPremium && artist.galleryImages && artist.galleryImages.length > 0">
    <div class="content-wrapper">
      <h2>×’×œ×¨×™×”</h2>
      <div class="gallery-grid">
        <div *ngFor="let image of artist.galleryImages" class="gallery-item">
          <img [src]="image.imageUrl" [alt]="image.caption || artist.name" class="gallery-image">
          <p class="image-caption" *ngIf="image.caption">{{ image.caption }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ×•×™×“××• (××©×œ× ×‘×œ×‘×“) -->
  <div class="video-section" *ngIf="artist.isPremium && artist.videos && artist.videos.length > 0">
    <div class="content-wrapper">
      <h2>×•×™×“××•</h2>
      <div class="video-grid">
        <div *ngFor="let video of artist.videos" class="video-item">
          <iframe
            [src]="getYouTubeEmbedUrl(video.videoUrl)"
            frameborder="0"
            allowfullscreen
            class="video-iframe">
          </iframe>
          <p class="video-title" *ngIf="video.title">{{ video.title }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content Layout -->
  <div class="main-layout">
    <!-- ×ª×•×›×Ÿ ×¢×™×§×¨×™ -->
    <div class="content-column">

      <!-- ×©×™×¨×™× -->
      <section class="content-section">
        <div class="section-header">
          <h2>×©×™×¨×™× ×•××§×•×¨×“×™× ({{ totalSongs }})</h2>
          <a [routerLink]="['/chords']" [queryParams]="{artist: artist.id}" class="see-all-link">
            ×”×›×œ â†’
          </a>
        </div>

        <div class="loading-small" *ngIf="loadingSongs">×˜×•×¢×Ÿ ×©×™×¨×™×...</div>

        <div class="songs-grid" *ngIf="!loadingSongs && songs.length > 0">
          <div *ngFor="let song of songs" class="song-card" (click)="navigateToSong(song.id)">
            <img [src]="song.imageUrl || 'assets/default-song.png'"
                 [alt]="song.title"
                 class="song-thumbnail">
            <div class="song-info">
              <h3 class="song-title">{{ song.title }}</h3>
              <p class="song-views">{{ song.viewCount }} ×¦×¤×™×•×ª</p>
            </div>
          </div>
        </div>

        <p class="no-content" *ngIf="!loadingSongs && songs.length === 0">
          ××™×Ÿ ×©×™×¨×™× ×–××™× ×™×
        </p>
      </section>

      <!-- ×›×ª×‘×•×ª -->
      <section class="content-section" *ngIf="totalArticles > 0">
        <div class="section-header">
          <h2>×›×ª×‘×•×ª ×•×ª×›× ×™× ({{ totalArticles }})</h2>
          <a [routerLink]="['/articles']" [queryParams]="{artist: artist.id}" class="see-all-link">
            ×”×›×œ â†’
          </a>
        </div>

        <div class="loading-small" *ngIf="loadingArticles">×˜×•×¢×Ÿ ×›×ª×‘×•×ª...</div>

        <div class="articles-grid" *ngIf="!loadingArticles && articles.length > 0">
          <div *ngFor="let article of articles" class="article-card" (click)="navigateToArticle(article.slug)">
            <img [src]="article.featuredImageUrl"
                 [alt]="article.title"
                 class="article-thumbnail">
            <div class="article-info">
              <h3 class="article-title">{{ article.title }}</h3>
              <p class="article-subtitle" *ngIf="article.subtitle">{{ article.subtitle }}</p>
              <span class="article-date">{{ article.publishDate | date: 'dd/MM/yyyy' }}</span>
            </div>
          </div>
        </div>
      </section>

      <!-- ×”×•×¤×¢×•×ª ×§×¨×•×‘×•×ª -->
      <section class="content-section" *ngIf="events.length > 0">
        <div class="section-header">
          <h2>×”×•×¤×¢×•×ª ×§×¨×•×‘×•×ª ({{ events.length }})</h2>
        </div>

        <div class="loading-small" *ngIf="loadingEvents">×˜×•×¢×Ÿ ×”×•×¤×¢×•×ª...</div>

        <div class="events-grid" *ngIf="!loadingEvents && events.length > 0">
          <div *ngFor="let event of events" class="event-card">
            <img [src]="event.imageUrl" [alt]="event.name" class="event-thumbnail">
            <div class="event-info">
              <h3 class="event-title">{{ event.name }}</h3>
              <p class="event-date">{{ event.eventDate | date: 'dd/MM/yyyy HH:mm' }}</p>
              <p class="event-location" *ngIf="event.location">{{ event.location }}</p>
              <a [href]="event.ticketUrl" target="_blank" class="btn-tickets">
                ×¨×›×™×©×ª ×›×¨×˜×™×¡×™×
              </a>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Sidebar -->
    <div class="sidebar-column">
      <!-- ×›×¨×˜×™×¡ ××™×“×¢ -->
      <div class="sidebar-card">
        <h3>××™×“×¢ × ×•×¡×£</h3>
        <div class="info-list">
          <div class="info-item" *ngIf="artist.websiteUrl">
            <span class="info-label">××ª×¨:</span>
            <a [href]="artist.websiteUrl" target="_blank" class="info-value">{{ artist.websiteUrl }}</a>
          </div>
          <div class="info-item">
            <span class="info-label">×‘××ª×¨ ×××–:</span>
            <span class="info-value">{{ artist.createdAt | date: 'MM/yyyy' }}</span>
          </div>
        </div>
      </div>

      <!-- ×›×¨×˜×™×¡ ×©×™×¨×™× ×¤×•×¤×•×œ×¨×™×™× (TODO) -->
      <!-- × ×™×ª×Ÿ ×œ×”×•×¡×™×£ ×›××Ÿ ×¢×•×“ ×ª×•×›×Ÿ ×œ×¡×™×™×“×‘×¨ -->
    </div>
  </div>
</div>

<!-- Loading State -->
<div class="loading-container" *ngIf="loading">
  <div class="spinner"></div>
  <p>×˜×•×¢×Ÿ ×¤×¨×˜×™ ××•××Ÿ...</p>
</div>
